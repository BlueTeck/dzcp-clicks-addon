<html>
  <head>
    <title>Klicks Mod - ReadMe</title>
    <style>
       <!--
        html,body {
          background-color:#020202;
        }

        a:link, a:visited {
          color: #444444;
          text-decoration:none;
          font-weight:bold;
        }

        a:active, a:hover {
          color: #000000;
        }

        td.contentHead {
          width: 100%;
          margin:10px 0 0 7px;
          padding:0;
          text-align:left;
          font-size:20px;
          color:#333;
          border-bottom:1px dotted #333;
          font-weight:normal;
        }

        td.content {
          font-size:13px;
          color:#333;
          margin:9px 0 8px 9px;
          padding:0;
        }
        
        td.datei {
          border: 1px double #000000;
          cursor: pointer;
          font-weight: bold;
          background-color:#F2F2F2;
          width: 750px;
          padding:5px 5px;
          font-family: "Courier New", Courier, monospace;
          font-size:14px;          
        }

        p.codesearch,p.codepast {
          border:1px solid #DDD;
          background-color:#F2F2F2;
          width: 750px;
          padding:5px 5px;
          font-family:"Courier New", Courier, monospace;
          font-size:10px;         
          margin: 0px;  
        }

        p.codepast {
          border:1px solid #DDD;
          background-color:#c8f7b5;
        }        
        
        textarea {
          width: 750px;
          overflow: auto;          
        }  
      -->
    </style>
    <script type="text/javascript">
      function show(Id) {
        var showText = document.getElementById('show'+Id);
        var showBild = document.getElementById('img'+Id);
        var Minus="http://images.dzcp-zone.de/readmes/minus.gif", Plus="http://images.dzcp-zone.de/readmes/plus.gif";
        if (showText.style.display == 'none') {
          showText.style.display = '';
          showBild.src = Minus;
        } else {
          showText.style.display = 'none';
          showBild.src = Plus;
        }
      }
    </script> 
  </head>

  <body style="text-align:center">
    <table width="800" style="border: 2px solid #ccc;" align="center" bgcolor="white" cellspacing="10" cellpadding="0">

<!--############################################################################-->
<!--################################   START   #################################-->
<!--############################################################################-->
      <tr>
        <td class="contentHead">Klicks Mod  - ReadMe</td>
      </tr>
      <tr>
        <td class="content"><p>Durch diesen Mod ist es m&ouml;glcih zu sehen, wie oft eine Teilseite aufgerufen worden ist.</p>
        	<p>Zum Beispiel wie oft wurde diese News ge&ouml;ffnet oder wie oft hat sich jemand die Userliste angekuckt.</p>
        	<p>Diese Statistik funktioniert f&uuml;r alle Seiten/Teilseite, nur die Adminseiten werden ausgeschlossen, da ich dies f&uuml;r unwichtig hielt.</p></td>
      </tr>

<!--############################################################################-->
<!--####################   HAFTUNGSAUSSCHLUSS & COPYRIGHT   ####################-->
<!--############################################################################-->
     <tr>
        <td class="contentHead">Haftungsausschluss</td>
      </tr>
      <tr>
        <td class="content"><br>
          Wir &uuml;bernehmen keinerlei Verantwortung, f&uuml;r Sch&auml;den die durch das einbinden der Mod/des Addons entstehen. Das einbinden und
          nutzen erfolgt demnach auf eigene Gefahr.<br>
          <br>
          Vor den einbinden der Mod/des Addons sollte eine Datenbanksicherung durchgef&uuml;hrt werden. Des Weiteren empfehlen wir,
          von allen Dateien welche ge&auml;ndert werden m&uuml;ssen (unter „Ben&ouml;tigte Dateien“ aufgelistet), ebenfalls eine Sicherheitskopie anzufertigen.
        </td>
      </tr>

<!--############################################################################-->
<!--##########################   BENÖTIGTE  DATEIEN   ##########################-->
<!--############################################################################-->
      <tr>
        <td class="contentHead">Ben&ouml;tigte Dateien</td>
      </tr>
      <tr>
        <td class="content">
          Folgende Datei werden f&uuml;r diese Mod/dieses Addon ben&ouml;tigt:<br>
          <ul>
            <li>_install_klicks/install.php</li>
          </ul>          
          <ul>
            <li>inc/menu-functions/counter.php</li>
			<li>inc/_templates_/TEMPLATE/menu/counter.html</li>
            <li>oder</li>
            <li>inc/additional-functions/klicks.php</li>
            <li>inc/_templates_/TEMPLATE/index.html</li>
          </ul></td>
      </tr>

<!--#################################################################################-->
<!--###############################   INSTALLATION   ###############################-->
<!--#################################################################################-->
      <tr>
        <td class="contentHead"><a name="install_addons"></a>Installation</td>
      </tr>        
      <tr>
        <td class="content">
          <p>Es gibt zwei Varianten dieses Mods/Addons. In Variante 1 wird der Klickcounter in den Standart DZCP-Counter eingebaut. In Variante 2 kann der Klick-Counter an eine beliebige Stelle in euer Template eingebunden werden.</p>
          <p><br>
          	
          	Damit es zu keinen Fehler kommt, m&uuml;ssen zuerst die Tabellen in der Datenbank angelegt werden. Hierf&uuml;r haben wir einen kleinen
          	Installer geschrieben, welcher am Ordnernamen _install_XXXXXXX zu erkennen ist. Ladet diesen Ordner in das Hauptverzeichnis eures deV!L'z Clanportals.<br>
          	<br>
          	
          	<b>Ruft anschliesend eure Seite auf</b> und <b>f&uuml;gt hinter die Adresse folgendes ein</b>:<br>
          	<br>
          	
          	</p>
          <p class="codepast">/_install_klicks/install.php</p><br>
          Wenn die Installation erfolgreich verlief <b>l&ouml;scht zur Sicherheit den installer-Ordner</b> von euren Webspace.<br>          
          <br>
          
          Ändert nun folgende Dateien entsprechend den Anweisungen ab:
        </td>
      </tr>
      <tr>
        <td class="contentHead"><a name="install_addons"></a>Variante 1</td>
      </tr> 
<!-------------------------------- user/index.php ------------------------------------>
      <tr>
        <td class="datei" id="user" onClick="show(1)"><img src="http://images.dzcp-zone.de/readmes/plus.gif" id="img1">inc/menu-functions/counter.php</td>
      </tr>
      <tr id="show1" style="display: none;">
        <td class="content">
          <b>Sucht</b> nach folgenden Zeilen:
          <p class="codesearch">
            <textarea rows="10" wrap="off" readonly>global $db,</textarea></p><br>

          <b>F&uuml;gt</b> direkt <b>hinter</b> dieser Zeile folgendes ein:
          <p class="codepast">
            <textarea rows="10" wrap="off">$sql_prefix,</textarea></p><br> 
          <br>
          
          <b>Sucht</b> nun nach folgender Zeile:
          <p class="codesearch">
            <textarea rows="10" wrap="off" readonly>$counter = show("menu/counter", array(</textarea></p><br>

          <b>F&uuml;gt</b> direkt <b>dar&uuml;ber,</b> folgendes ein:
          <p class="codepast">
            <textarea rows="5" wrap="off">//Klicks Mod
if(strpos($_SERVER['PHP_SELF'],"/admin/")!==false) {
	$clicksnumber = "-";
	} else {
if($_SERVER['QUERY_STRING']!="") {$whereclicks = $_SERVER['PHP_SELF']."?".$_SERVER['QUERY_STRING'];} else {$whereclicks = $_SERVER['PHP_SELF'];}
$clicksrownumber = mysql_num_rows(db("SELECT klicks FROM ".$sql_prefix."klicks WHERE wo = '".$whereclicks."'"));
if($clicksrownumber == 0) {
	$qry = db("INSERT INTO ".$sql_prefix."klicks 
                       SET `wo`  = '".$whereclicks."',
                           `klicks`  = '1'");
		$clicksnumber = 1;				   
	} else {
		$clicksnumber = mysql_fetch_array(db("SELECT klicks FROM ".$sql_prefix."klicks WHERE wo = '".$whereclicks."'"));
		$clicksnumber = $clicksnumber[0] +1;
		$qry = db("UPDATE ".$sql_prefix."klicks SET klicks = '".$clicksnumber."' WHERE wo LIKE '".$whereclicks."'");
		}
}
//Klicks Mod Ende</textarea></p>  
<b>Sucht</b> nun nach folgender Zeile:
          <p class="codesearch">
            <textarea rows="10" wrap="off" readonly>$counter = show("menu/counter", array(</textarea></p><br>

          <b>F&uuml;gt</b> direkt <b>dahinter,</b> folgendes ein:
          <p class="codepast">
            <textarea rows="5" wrap="off">"aufrufe" => $clicksnumber,</textarea></p>
        </td>
      </tr> 
      
<!-------------------------------- inc/_templates_/TEMPLATE/index.html ------------------------------------>
      <tr>
        <td class="datei" id="tmp_index" onClick="show(2)"><img src="http://images.dzcp-zone.de/readmes/plus.gif" id="img2">inc/_templates_/TEMPLATE/menu/counter.html</td>
      </tr>
      <tr id="show2" style="display: none;">
        <td class="content"></p>  
<b>Sucht</b> nun nach folgender Zeile:
<p class="codesearch">
	<textarea rows="10" wrap="off" readonly>&lt;td class=&quot;counterContentRight&quot;&gt;[v_perday]&lt;/td&gt;<br>
&lt;/tr&gt;</textarea></p><br>

          <b>F&uuml;gt</b> direkt <b>dahinter,</b> folgendes ein:
<p class="codepast">
	<textarea rows="5" wrap="off">&lt;tr&gt;<br>
&lt;td class=&quot;counterSpace&quot;&gt;&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td colspan=&quot;2&quot; class=&quot;counterContentHead&quot;&gt;&lt;span class=&quot;fontBoldUnder&quot;&gt;Aufrufe Teilseite:&lt;/span&gt;&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td class=&quot;counterContentLeft&quot;&gt;&lt;span class=&quot;fontBold&quot;&gt;Insgesamt:&lt;/span&gt;&lt;/td&gt;<br>
&lt;td class=&quot;counterContentRight&quot;&gt;[aufrufe]&lt;/td&gt;<br>
&lt;/tr&gt;</textarea></p>
        </td>
      </tr>  
    <tr>
        <td class="contentHead"><a name="install_addons"></a>Variante 2</td>
      </tr> 
        <tr>
        <td class="content">
          <p>Hierzu müsst ihr die Datei klicks.php nach /inc/menu-functions/klicks.php hochladen.</p>
		  <p>Anschlie&szlig;ende m&uuml;sst ihr den Platzhalter [klicks] in eure Templatedatei einbauen (inc/_templates_/TEMPLATE/index.html)</p>
        </td>
      </tr>   

      <tr>
        <td height="10"></td>
      </tr>
    </table>
  </body>
</html>
